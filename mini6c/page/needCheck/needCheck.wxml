<wxs src="../../util/dateutil.wxs" module="df" />
<wxs module="nf">
  var toFixed = function (value) {
    if (value){
      return value.toFixed(0);
    } else {
      return null;
    }    
  }
  var toFixed1 = function (value) {
    if (value){
      return value.toFixed(1);
    } else {
      return null;
    }    
  }

  var ifNull = function (value) {
    
    return value? value : "";
       
  }

  module.exports = {
    toFixed :toFixed,
    toFixed1 :toFixed1,
    ifNull :ifNull
  }
</wxs>



<view class="index">
  
  <view class="index-bd">
    <view class="kind-list">
      <view class="kind-list-item">
        <view id="{{item.targetIndexId}}" class="kind-list-item-hd">
          <view class="kind-list-text">{{title}} </view> 
          <view class="nav-opRight">
            <button class="mini-btn" type="primary" size="mini" bindtap="scanCode">全部确认</button>
          </view>           
        </view>
      </view>  

      <block wx:for-items="{{kpiPage}}" wx:key="{{item.id}}">
        <view class="kind-list-item">
          <view class="kind-list-item-hd">
            <view class="kind-list-text">{{item.name}}（ 单位：{{item.unit}} ）</view>
          </view>         
          <view class="kind-list-item-sb">来至：{{item.userName}}, {{item.title}}</view>          

          <view class="kind-list-item-bd kind-list-item-bd-show">
            <view class="navigator-box navigator-box-show">
              
                <view class="navigator">
                  <view class="navigator-text nav-name">保底值</view> 
                  <view class="navigator-text nav-textRight">{{nf.ifNull(item.baseValue)}}</view>
                </view>

                <view class="navigator">
                  <view class="navigator-text nav-name">合理值</view> 
                  <view class="navigator-text nav-textRight">{{nf.ifNull(item.reasonableValue)}}</view>
                </view>

                <view class="navigator">
                  <view class="navigator-text nav-name">要求提交时间</view> 
                  <view class="navigator-text nav-textRight">{{df.formatDate(item.commitDate)}}</view>
                </view>

                <view class="navigator">
                  <view class="navigator-text nav-name">实际提交时间</view> 
                  <view class="navigator-text nav-textRight">{{df.formatDate(item.lastCommitDate)}}</view>
                </view>

                <view class="navigator">
                  <view class="navigator-text nav-name">实际值</view> 
                  <view class="navigator-text nav-textRight">{{nf.ifNull(item.actualValue)}}</view>
                </view>


                <view class="navigator">
                  <view class="navigator-text nav-name">检查</view> 
                  <view class="nav-opRight">
                    <button class="mini-btn" type="primary" size="mini" bindtap="scanCode">确认</button>
                  </view>
                </view>                
              
            </view>
          </view>
        </view>
      </block>
    </view>
  </view>
    
</view>